# Archivo de ejemplo de configuración de Virtual Host para Apache
# Copiar a /etc/apache2/sites-available/proyecto.conf y ajustar rutas

<VirtualHost *:80>
    ServerName tudominio.com
    ServerAlias www.tudominio.com
    ServerAdmin admin@tudominio.com

    # Ruta al proyecto Django (AJUSTAR ESTAS RUTAS)
    WSGIDaemonProcess proyecto \
        user=www-data \
        group=www-data \
        python-home=/var/www/proyecto/venv \
        python-path=/var/www/proyecto \
        processes=2 \
        threads=15 \
        display-name=%{GROUP}
    
    WSGIProcessGroup proyecto
    WSGIApplicationGroup %{GLOBAL}
    
    WSGIScriptAlias / /var/www/proyecto/proyecto/wsgi.py \
        process-group=proyecto \
        application-group=%{GLOBAL}

    <Directory /var/www/proyecto/proyecto>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    # Archivos estáticos (AJUSTAR RUTA)
    Alias /static /var/www/proyecto/staticfiles
    <Directory /var/www/proyecto/staticfiles>
        Options -Indexes
        Require all granted
    </Directory>

    # Archivos media (AJUSTAR RUTA)
    Alias /media /var/www/proyecto/media
    <Directory /var/www/proyecto/media>
        Options -Indexes
        Require all granted
    </Directory>

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/proyecto_error.log
    LogLevel warn
    CustomLog ${APACHE_LOG_DIR}/proyecto_access.log combined

    # Seguridad adicional
    <Directory /var/www/proyecto>
        Options -Indexes -FollowSymLinks
        AllowOverride None
        Require all denied
    </Directory>
</VirtualHost>

